# AI Code Gallery 需求跟踪矩阵（RTM）

版本：v0.1.0  
日期：2025-11-28

| 需求ID | 模块 | 描述 | 优先级 | 难度 | 来源 | 设计/实现引用 |
| --- | --- | --- | --- | --- | --- | --- |
| REQ-001 | 数据读取 | 构建期读取 `_demos` 并解析 `meta.json` 与代码 | P0 | 中 | 初始需求 | `prd/初始需求.md:45-88` |
| REQ-002 | 类型定义 | `lib/types.ts` 定义 Demo 与 AI 相关类型 | P0 | 低 | 初始需求 | `prd/初始需求.md:345-383` |
| REQ-003 | 首页列表 | 网格展示 Demo 卡片，类型徽章区分 | P0 | 低 | 初始需求 | `prd/初始需求.md:206-239` |
| REQ-004 | 详情页 | 展示标题、描述、类型、代码与预览 | P0 | 中 | 初始需求 | `prd/初始需求.md:149-204` |
| REQ-005 | HTML 预览 | `HtmlPreview` 通过 `iframe srcDoc` 沙箱渲染 | P1 | 低 | 初始需求 | `prd/初始需求.md:90-111` |
| REQ-006 | React 预览 | `ReactPreview` 使用 Sandpack，注入 Tailwind | P0 | 中 | 初始需求 | `prd/初始需求.md:113-147` |
| REQ-007 | Prompt 展示 | 显示模型、Agent、主 Prompt 与迭代 | P1 | 低 | 初始需求 | `prd/初始需求.md:399-433` |
| REQ-008 | 复制代码 | 为 HTML/React 提供复制按钮与提示 | P2 | 低 | 初始需求 | `prd/初始需求.md:251-253` |
| REQ-009 | 国际化-路由 | `/[locale]/...` 路由结构，`next-intl` | P0 | 中 | i18n | `prd/i18n.md:15-33, 43-60` |
| REQ-010 | 国际化-文案 | `messages/{locale}.json` 管理文案 | P0 | 低 | i18n | `prd/i18n.md:62-115, 156-176` |
| REQ-011 | 国际化-预构建 | `generateStaticParams` 生成 `en/zh` | P0 | 低 | i18n | `prd/i18n.md:115-154` |
| REQ-012 | 国际化-Meta | `meta.json` 标题/描述支持多语言与回退 | P0 | 中 | i18n | `prd/i18n.md:180-223` |
| REQ-013 | 根重定向 | 静态站点默认重定向到 `/en` | P1 | 低 | i18n | `prd/i18n.md:224-244` |
| REQ-014 | 部署导出 | `output: 'export'` 与 `images.unoptimized` | P0 | 低 | 初始需求/i18n | `prd/初始需求.md:254-264`, `prd/i18n.md:43-60` |
| REQ-015 | 筛选能力 | 主页按模型/Agent/标签过滤 | P2 | 中 | 初始需求（建议） | `prd/初始需求.md:385-399` |
| REQ-016 | 自动化脚本 | `npm run generate` 生成 Demo 与 Meta | P2 | 中 | 初始需求 | `prd/初始需求.md:266-268` |
| REQ-017 | 安全约束 | 沙箱与秘密管理，不提交密钥 | P0 | 低 | 规范 | `prd/需求说明书.md` |
| REQ-018 | 响应式断点 | 支持 320/375/414/≥768 布局适配 | P0 | 中 | 移动适配 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-019 | 布局单位 | 使用 rem/em 布局，避免硬编码 px | P0 | 低 | 移动适配 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-020 | 媒体查询 | CSS 媒体查询实现响应式（Mobile-first） | P0 | 低 | 技术要求 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-021 | 触控尺寸 | 点击/触控区域 ≥44×44 像素 | P0 | 低 | 交互优化 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-022 | 表单体验 | 输入法优化、inputmode/type、可见焦点 | P1 | 中 | 交互优化 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-023 | 手势适配 | 基本手势兼容，不与 Sandpack/iframe 冲突 | P2 | 中 | 交互优化 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-024 | 视口设置 | 注入 viewport meta 标签 | P0 | 低 | 技术要求 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-025 | 移动优先 | Mobile-first 设计与实现原则 | P0 | 低 | 技术要求 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-026 | 资源结构 | 语言资源 `/locales/en.json`、`/locales/zh.json` | P0 | 低 | i18n | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-027 | i18next | 客户端语言切换与状态管理（持久化） | P1 | 中 | i18n | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-028 | 持久化 | 语言选择 localStorage 持久化 | P0 | 低 | 技术要求 | `prd/需求说明书.md:移动端适配与交互优化` |
| REQ-029 | 设备测试 | iOS/Android 主流设备显示效果测试 | P0 | 中 | 测试要求 | `prd/需求说明书.md:测试与验收` |
| REQ-030 | 尺寸验证 | 不同屏幕尺寸布局适应性验证 | P0 | 低 | 测试要求 | `prd/需求说明书.md:测试与验收` |

| REQ-031 | 搜索-UI | 顶部搜索框与实时建议 | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-032 | 搜索-范围 | 标题/描述/标签/内容覆盖 | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-033 | 搜索-算法 | 模糊搜索与中英文混合支持 | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-034 | 搜索-性能 | 单次查询响应 ≤500ms | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-035 | 搜索-准确率 | 搜索结果准确率 ≥95% | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-036 | 搜索-压力测试 | 并发与批量查询性能验证 | P1 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |
| REQ-037 | 搜索-索引 | 构建期生成只读 `search-index.json` | P0 | 中 | 搜索需求 | `prd/需求说明书.md:模块 K` |

备注：设计/实现引用为文档内定位，具体代码文件参见《需求说明书》的“目录结构”与“功能模块需求”。
